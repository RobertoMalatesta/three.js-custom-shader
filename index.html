<!doctype html>
<html>
	<head>
		<title>three.js custom shader</title>
	</head>
	<body>
		<script type="x-shader/x-vertex" id="vertexshader">
			#ifdef GL_ES
			precision highp float;
			#endif

			varying vec3 vNormal;

			void main() {
				vNormal = normal + vec3(1, 0, 0);
				gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
			}
		</script>

		<script type="x-shader/x-fragment" id="fragmentshader">
			#ifdef GL_ES
			precision highp float;
			#endif

			varying vec3 vNormal;

			void main() {
				vec3 light = vec3(0.0, 0.2, 1.0);
				light = normalize(light);
				float intensity = max(0.0, dot(vNormal, light));
				gl_FragColor = vec4(intensity, intensity, intensity, 1.0);
			}
		</script>
		<script src="js/three.js"></script>
		<script type="text/javascript" src="js/main.js"></script>
	</body>
</html>
